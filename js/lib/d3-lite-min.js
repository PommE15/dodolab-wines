!function(){function n(n){return n}function e(n,e,t){return function(){var r=t.apply(e,arguments);return r===e?n:r}}function t(n,e){for(var t in e)Object.defineProperty(n.prototype,t,{value:e[t],enumerable:!1})}function r(){this._=Object.create(null)}function o(n){return(n+="")===j||n[0]===q?q+n:n}function u(n){return(n+="")[0]===q?n.slice(1):n}function i(n){return o(n)in this._}function s(n){return(n=o(n))in this._&&delete this._[n]}function a(){var n=[];for(var e in this._)n.push(u(e));return n}function l(){var n=0;for(var e in this._)++n;return n}function c(){for(var n in this._)return!1;return!0}function f(){}function h(n){function e(){for(var e,r=t,o=-1,u=r.length;++o<u;)(e=r[o].on)&&e.apply(this,arguments);return n}var t=[],o=new r;return e.on=function(e,r){var u,i=o.get(e);return arguments.length<2?i&&i.on:(i&&(i.on=null,t=t.slice(0,u=t.indexOf(i)).concat(t.slice(u+1)),o.remove(e)),r&&t.push(o.set(e,{on:r})),n)},e}function p(n){return function(e,t,r){return 2===arguments.length&&"function"==typeof t&&(r=t,t=null),v(e,t,n,r)}}function v(n,e,t,r){function o(){var n,e=a.status;if(!e&&g(a)||e>=200&&300>e||304===e){try{n=t.call(u,a)}catch(r){return void i.error.call(u,r)}i.load.call(u,n)}else i.error.call(u,a)}var u={},i=m.dispatch("beforesend","progress","load","error"),s={},a=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in a||!/^(http(s)?:)?\/\//.test(n)||(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=o:a.onreadystatechange=function(){a.readyState>3&&o()},a.onprogress=function(n){var e=m.event;m.event=n;try{i.progress.call(u,a)}finally{m.event=e}},u.header=function(n,e){return n=(n+"").toLowerCase(),arguments.length<2?s[n]:(null==e?delete s[n]:s[n]=e+"",u)},u.mimeType=function(n){return arguments.length?(e=null==n?null:n+"",u):e},u.responseType=function(n){return arguments.length?(l=n,u):l},u.response=function(n){return t=n,u},["get","post"].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(b(arguments)))}}),u.send=function(t,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),a.open(t,n,!0),null==e||"accept"in s||(s.accept=e+",*/*"),a.setRequestHeader)for(var c in s)a.setRequestHeader(c,s[c]);return null!=e&&a.overrideMimeType&&a.overrideMimeType(e),null!=l&&(a.responseType=l),null!=o&&u.on("error",o).on("load",function(n){o(null,n)}),i.beforesend.call(u,a),a.send(null==r?null:r),u},u.abort=function(){return a.abort(),u},m.rebind(u,i,"on"),null==r?u:u.get(d(r))}function d(n){return 1===n.length?function(e,t){n(null==e?t:null)}:n}function g(n){var e=n.responseType;return e&&"text"!==e?n.response:n.responseText}function y(n){return JSON.parse(n.responseText)}var m={version:"3.5.5"},_=[].slice,b=function(n){return _.call(n)},w=this.document;if(w)try{b(w.documentElement.childNodes)[0].nodeType}catch(x){b=function(n){for(var e=n.length,t=new Array(e);e--;)t[e]=n[e];return t}}if(Date.now||(Date.now=function(){return+new Date}),w)try{w.createElement("DIV").style.setProperty("opacity",0,"")}catch(T){var A=this.Element.prototype,D=A.setAttribute,S=A.setAttributeNS,E=this.CSSStyleDeclaration.prototype,O=E.setProperty;A.setAttribute=function(n,e){D.call(this,n,e+"")},A.setAttributeNS=function(n,e,t){S.call(this,n,e,t+"")},E.setProperty=function(n,e,t){O.call(this,n,e+"",t)}}m.rebind=function(n,t){for(var r,o=1,u=arguments.length;++o<u;)n[r=arguments[o]]=e(n,t,t[r]);return n},m.map=function(n,e){var t=new r;if(n instanceof r)n.forEach(function(n,e){t.set(n,e)});else if(Array.isArray(n)){var o,u=-1,i=n.length;if(1===arguments.length)for(;++u<i;)t.set(u,n[u]);else for(;++u<i;)t.set(e.call(n,o=n[u],u),o)}else for(var s in n)t.set(s,n[s]);return t};var j="__proto__",q="\x00";t(r,{has:i,get:function(n){return this._[o(n)]},set:function(n,e){return this._[o(n)]=e},remove:s,keys:a,values:function(){var n=[];for(var e in this._)n.push(this._[e]);return n},entries:function(){var n=[];for(var e in this._)n.push({key:u(e),value:this._[e]});return n},size:l,empty:c,forEach:function(n){for(var e in this._)n.call(this,u(e),this._[e])}}),m.dispatch=function(){for(var n=new f,e=-1,t=arguments.length;++e<t;)n[arguments[e]]=h(n);return n},f.prototype.on=function(n,e){var t=n.indexOf("."),r="";if(t>=0&&(r=n.slice(t+1),n=n.slice(0,t)),n)return arguments.length<2?this[n].on(r):this[n].on(r,e);if(2===arguments.length){if(null==e)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},m.xhr=p(n),m.json=function(n,e){return v(n,"application/json",y,e)},"function"==typeof define&&define.amd?define(m):"object"==typeof module&&module.exports&&(module.exports=m),this.d3=m}();